<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Map building</title>
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="http://d3js.org/topojson.v1.min.js"></script>
    <style type="text/css">
      /*No style rules yet*/
    </style>
  </head>
  <body>
    <svg width="960" height="600"></svg>
    <script type="text/javascript">
      var width = 1160;
      var height = 960;
      var scale = 25000;
      var center = [0, 50.64];
      var rotate = [-4.668, 0];
      var parallels = [50.1, 20.01];

      var offset = [width / 2, height / 2];

      var projection = d3
        .geoAlbers()
        // .geoMercator()
        .center([0, 50.0647])
        .rotate([-19.945, 0])
        // .center([0, 19.945])
        // .rotate([-50.0647, 0])
        .parallels(parallels)
        .translate(offset)
        .scale(100000);

      var path = d3.geoPath().projection(projection);

      var svg = d3
        .select("svg")
        .attr("width", width)
        .attr("height", height);

      d3.json(
        // "https://raw.githubusercontent.com/holtzy/D3-graph-gallery/master/DATA/world.geojson",
        "./krak.geojson",
        function(error, be) {
          if (error) return console.error(error);
          let x = be.features;
          console.log(x);

          svg
            .selectAll("path")
            .data(be.features)
            .enter()
            .append("path")
            .attr("d", path)
            .style("opacity", 0.1)
            .style("stroke", "#fff")
            .style("stroke-width", 0.7);
          //   // .style("fill", "steelblue");
          //   svg
          //     .append("path")
          //     .datum(be)
          //     .attr("d", path)
          //     .style("stroke", "#fff")
          //     .style("stroke-width", 0);
        }
      );
    </script>
  </body>
</html>
